<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/17.0.2-ea" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.interfaz.controller.MainController" styleClass="main-container" stylesheets="@styles.css" spacing="20.0" prefWidth="700.0" prefHeight="600.0">
   <children>
      <!-- Título principal -->
      <Label text="YouTube Downloader" styleClass="section-title" style="-fx-font-size: 24px; -fx-text-fill: #007bff; -fx-alignment: center;" />
      
      <!-- Sección de entrada -->
      <VBox styleClass="input-section hoverable-section">
         <children>
            <Label text="📥 Agregar URL" styleClass="section-title" style="-fx-font-size: 16px;" />
            <HBox alignment="CENTER_LEFT" spacing="15.0">
               <children>
                  <TextField fx:id="inputField" prefWidth="450.0" promptText="Ingresa la URL de YouTube o playlist..." styleClass="input-field" HBox.hgrow="ALWAYS" />
                  <Button fx:id="addButton" mnemonicParsing="false" onAction="#onAddToQueue" text="➕ Agregar" styleClass="add-button" />
               </children>
            </HBox>
         </children>
      </VBox>
      
      <!-- Sección de configuración -->
      <TitledPane text="Configuración" expanded="false" collapsible="true" styleClass="config-dropdown">
         <VBox spacing="10.0" style="-fx-padding: 10;">
            <HBox spacing="10.0" alignment="CENTER_LEFT">
               <Label text="📁 Carpeta de música:" styleClass="config-label" />
               <Label fx:id="musicFolderLabel" text="Desktop/MUSICA" styleClass="folder-path-label" HBox.hgrow="ALWAYS" />
            </HBox>
            <HBox spacing="10.0" alignment="CENTER_LEFT">
               <Button fx:id="selectFolderButton" mnemonicParsing="false" onAction="#onSelectMusicFolder" text=" Cambiar" styleClass="secondary-button" />
               <Button fx:id="resetFolderButton" mnemonicParsing="false" onAction="#onResetMusicFolder" text=" Reset" styleClass="secondary-button" />
            </HBox>
         </VBox>
      </TitledPane>
      
      <!-- Sección de cola -->
      <VBox fx:id="queueSection" styleClass="queue-section hoverable-section">
         <children>
            <Label text="📋 Cola de Descarga" styleClass="section-title" style="-fx-font-size: 16px;" />
            <HBox alignment="CENTER_LEFT" spacing="15.0" styleClass="queue-header">
               <children>
                  <Label fx:id="queueCountLabel" text="📊 Cola: 0 elementos" styleClass="queue-count-label" />
                  <Region HBox.hgrow="ALWAYS" />
                  <Button fx:id="removeSelectedButton" mnemonicParsing="false" onAction="#onRemoveSelected" text="🗑️ Eliminar" styleClass="secondary-button" />
                  <Button fx:id="clearQueueButton" mnemonicParsing="false" onAction="#onClearQueue" text="🧹 Limpiar" styleClass="secondary-button" />
               </children>
            </HBox>
            <ListView fx:id="queueListView" prefHeight="180.0" styleClass="list-view" />
         </children>
      </VBox>
      
      <!-- Separador -->
      <Separator styleClass="separator" />
      
      <!-- Botones de control -->
      <VBox spacing="10.0">
         <children>
            <Label text="🎮 Controles de Descarga" styleClass="section-title" style="-fx-font-size: 16px;" />
            <HBox alignment="CENTER" spacing="20.0">
               <children>
                  <Button fx:id="startButton" mnemonicParsing="false" onAction="#onStartDownload" text="▶ Iniciar Descarga" styleClass="start-button" />
                  <Button fx:id="pauseButton" mnemonicParsing="false" onAction="#onPauseDownload" text="⏸ Pausar" styleClass="pause-button" />
                  <Button fx:id="cancelButton" mnemonicParsing="false" onAction="#onCancelDownload" text="⏹ Cancelar" styleClass="cancel-button" />
                  <Button fx:id="showLogsButton" mnemonicParsing="false" onAction="#onShowLogs" text="📋 Mostrar Logs" styleClass="secondary-button" />
               </children>
            </HBox>
         </children>
      </VBox>
      
      <!-- Sección de progreso -->
      <VBox fx:id="progressSection" visible="false" managed="false" styleClass="progress-section">
         <children>
            <Label text="📊 Progreso de Descarga" styleClass="section-title" style="-fx-font-size: 16px;" />
            
            <!-- Progreso de la lista -->
            <VBox spacing="8.0" styleClass="progress-container">
               <children>
                  <HBox alignment="CENTER_LEFT" spacing="10.0" styleClass="progress-header">
                     <children>
                        <Label fx:id="overallProgressLabel" text="📋 Progreso de la Playlist:" styleClass="progress-label" />
                        <Region HBox.hgrow="ALWAYS" />
                        <Label fx:id="overallPercentageLabel" text="0%" styleClass="percentage-label" />
                     </children>
                  </HBox>
                  <ProgressBar fx:id="overallProgressBar" prefWidth="200.0" progress="0.0" maxWidth="Infinity" styleClass="progress-bar" prefHeight="12.0" />
               </children>
            </VBox>
            
            <Label fx:id="currentSongLabel" text="🎵 Preparando descarga..." styleClass="current-song-label" />
            
             

         </children>
      </VBox>
   </children>
</VBox>